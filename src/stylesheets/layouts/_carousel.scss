/**
 * Carousel
 *
 * @author Jérémy Levron <jeremylevron@19h47.fr> (https://19h47.fr)
 * @package Rider.404
 */
.Carousel {
	$this: &;

	@extend %overflow-hidden, %position-relative;

	@include padding(top 80px bottom 80px);

	@include media-breakpoint-up(sm) {
		@include padding(top 130px bottom 130px);
	}

	@include media-breakpoint-up(md) {
		@include padding(top 260px bottom 260px);
	}

	@include media-breakpoint-up(lg) {
		@include padding(top 290px bottom 290px);
	}

	@include media-breakpoint-up(hd) {
		@include padding(top 460px bottom 460px);
	}

	&__background {
		@include absolute(top 0 right 0 bottom 0 left 0);
		@include size(100%);

		object-fit: cover;
		object-position: center;

		@include media-breakpoint-up(md) {
			object-fit: contain;
		}
	}

	&__items {
		height: 230px;

		@include media-breakpoint-up(sm) {
			height: 435px;
		}

		@include media-breakpoint-up(md) {
			height: 635px;
		}

		@include media-breakpoint-up(lg) {
			height: 705px;
		}

		@include media-breakpoint-up(hd) {
			height: 1130px;
		}

		.flickity-viewport {
			overflow: visible;
		}

		.flickity-button {
			@include absolute(top 0 bottom 0);
			@include size(percentage(2/8), 100%);

			transform: none;
			border-radius: 0;
			background-color: transparent;

			svg {
				@extend .d-none;
			}

			&.previous {
				right: 100%;
				left: auto;
			}
			&.next {
				right: auto;
				left: 100%;
			}

			&:hover {
				background-color: transparent;
			}
		}
	}
	&__item {
		@include size(100%);
		@include margin(right percentage(0.25/10) left percentage(0.25/10));
		@extend %overflow-hidden;

		transition: transform 1.5s map-get($easings, ease-out-expo);

		@include media-breakpoint-up(sm) {
			@include margin(right percentage(0.75/8) left percentage(0.75/8));
		}

		.Image-reveal {
			@include size(100%);
		}

		img {
			@extend .d-block;
			@include size(100%);

			object-fit: cover;
			object-position: center;

			transition: transform 1.5s map-get($easings, ease-out-expo);
		}

		@at-root #{ $this }__items .is-pointer-down & {
			transform: scale(0.9);

			img {
				transform: scale(((1/0.9)) + 0.1) rotate(7deg);
			}
		}
	}
}
